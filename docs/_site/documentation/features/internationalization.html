    <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
 



<link rel="shortcut icon" href="//www.eclipse.org/smarthome/img/favicon.png"></link>
<title>Eclipse SmartHome - A Flexible Framework for the Smart
	Home</title>
 
<!-- CSS -->
<link href="http://www.eclipse.org/smarthome/css/materialize.css" type="text/css" rel="stylesheet"
	media="screen,projection" />
<link href="http://www.eclipse.org/smarthome/css/highlight.github.css" type="text/css" rel="stylesheet"
    	media="screen,projection" />
<link href="../../css/styles.css" rel="stylesheet" />

<!-- Font -->
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700'
	rel='stylesheet' type='text/css' />
    
</head>
<body class="documentation">
	<div id="header" class="navbar-fixed">
		<nav role="navigation">
			<div class="container">
				<div class="nav-wrapper">
					<a href="../../index.html"><img id="logo" src="//www.eclipse.org/smarthome/img/eclipse_logo.png" /></a>
					<a href="#" data-activates="nav-mobile" class="button-collapse"><i
						class="mdi-navigation-menu"></i></a>
					<ul class="right hide-on-med-and-down">
						<li><a href="../../getting-started.html">Getting Started</a></li>
						<li><a href="../../documentation/index.html">Documentation</a></li>
						<li><a href="http://github.com/eclipse/smarthome">GitHub</a></li>
					</ul>
					<ul id="nav-mobile" class="side-nav">
                        <li><a href="../../index.html">Home</a></li>
						<li><a href="../../getting-started.html">Getting Started</a></li>
						<li><a href="../../documentation/index.html">Documentation</a></li>
						<li><a href="http://github.com/eclipse/smarthome">GitHub</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
    
    <section id="documentation" class="text content-wrapper">
        <div class="container">
            <div class="side-nav-wrapper">
                





<ul class="nav">
    <li>
        <a href="../../documentation/concepts/index.html">Concepts</a>
        <ul>
		    <li>
        		<a href="../../documentation/concepts/index.html">Overview</a>
		    </li>
            <li>
                 <a href="../../documentation/concepts/items.html">Items</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/things.html">Things</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/discovery.html">Inbox & Discovery</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/events.html">Events</a>
            </li>
		</ul>
	</li>
    <li>
        <a href="../../documentation/features/index.html">Features</a>
        <ul>
            <li>
                 <a href="../../documentation/features/index.html">Overview</a>
            </li>
            <li>
                 <a href="../../documentation/features/rest.html">REST API</a>
            </li>
            <li>
                 <a href="../../documentation/features/dsl.html">Textual Configuration</a>
            </li>
            <li>
                 <a href="../../documentation/features/internationalization.html">Internationalization</a>
            </li>
			<!-- TBD: This could be a sub-menu "extensions", linking to the generated documentation from the /extensions folder
            <li>
                 <a href="../../documentation/features/extensions/bindings.html">Bindings</a>
            </li>
            <li>
                 <a href="../../documentation/features/extensions/uis.html">User Interfaces</a>
            </li>-->
    	</ul>
    </li>
	<li>
        <a href="../../documentation/development/bindings/how-to.html">Development</a>
        <ul>
        	<!-- TODO: Once we have 3 menu levels, this could be moved to a "Bindings" sub-menu -->
        	<li>
                 <a href="../../documentation/development/bindings/how-to.html">Binding Tutorial</a>
            </li>
            <li>
                 <a href="../../documentation/development/bindings/thing-definition.html">Thing Definition</a>
            </li>
            <li>
                 <a href="../../documentation/development/bindings/thing-handler.html">Thing Handler</a>
            </li>
            <li>
                 <a href="../../documentation/development/bindings/xml-reference.html">XML Reference Guide</a>
            </li>
			<li>
                 <a href="../../documentation/development/bindings/dependencies.html">Dependencies</a>
            </li>
			<li>
                 <a href="../../documentation/development/bindings/testing.html">Testing</a>
            </li>
            <li>
                 <a href="../../documentation/development/bindings/docs.html">Documentation</a>
            </li>
            <li>
                 <a href="../../documentation/development/bindings/faq.html">FAQ</a>
            </li>
        </ul>    
    </li>
    <li>
        <a href="../../documentation/community/guidelines.html">Community</a>
        <ul>
            <li>
                 <a href="../../documentation/community/guidelines.html">Guidelines</a>
            </li>
            <li>
                 <a href="../../documentation/community/ide.html">IDE</a>
            </li>
            <li>
                 <a href="../../documentation/community/contributing.html">Contributing</a>
            </li>
        </ul>    
    </li>
</ul>
            </div>    
            <div class="content">  
	            <h1 id="internationalization">Internationalization</h1>

<p>In this chapter the Eclipse SmartHome support for internationalization is described. <br />
Translations</p>

<p>All texts can be internationalized by using Java I18N properties files. For each language a specific file with a postfix notation is used. The postfix consists of a language code and an optional region code (country code).</p>

<pre><code>Format:     any_&lt;language-code&gt;_&lt;country-code&gt;.properties
Example:    any_de_DE.properties
</code></pre>

<p>The language code is either two or three lowercase letters that are conform to the ISO 639 standard. The region code (country code) consists of two uppercase letters that are conform to the ISO 3166 standard or to the UN M.49 standard.</p>

<p>The search order for those files is the following:</p>

<pre><code>any_&lt;language-code&gt;_&lt;country-code&gt;.properties
any_&lt;language-code&gt;.properties
any.properties
</code></pre>

<p>You can find detailed information about Java internationalization support and a list of the ISO 639 and ISO 3166 codes at <a href="http://docs.oracle.com/javase/tutorial/i18n/locale/create.html">The Java Tutorials</a> page.</p>

<p>The properties files have to be placed in the following directory of the bundle:</p>

<pre><code>ESH-INF/i18n
</code></pre>

<p>Example files:<br />
<code>
ESH-INF/i18n
    yahooweather_de.properties
    yahooweather_de_DE.properties
    yahooweather_fr.properties
</code></p>

<h2 id="internationalize-binding-xml-files">Internationalize Binding XML files</h2>

<p>In Eclipse SmartHome a binding developer has to provide different XML files. In these XML files label and description texts must be specified. To Internationalize these texts Java I18N properties files must be defined.</p>

<p>For the binding definition and the thing types XML files Eclipse SmartHome defines a standard key scheme, that allows to easily reference the XML nodes. Inside the XML nodes the text must be specified in the default language English. Typically all texts for a binding are put into one file with name of the binding, but they can also be split into multiple files.</p>

<h3 id="binding-definition">Binding Definition</h3>

<p>The following snippet shows the binding XML file of the Yahoo Weather Binding and its language file that localizes the binding name and description for the German language.</p>

<p>XML file (binding.xml):<br />
```xml</p>
<binding:binding id="yahooweather">
    <name>YahooWeather Binding</name>
    <description>The Yahoo Weather Binding requests the Yahoo Weather Service
		to show the current temperature, humidity and pressure.</description>
    <author>Kai Kreuzer</author>
</binding:binding>
<pre><code>
Language file (yahooweather_de.properties):
```ini
binding.yahooweather.name = Yahoo Wetter Binding
binding.yahooweather.description = Das Yahoo Wetter Binding stellt verschiedene Wetterdaten wie die Temperatur, die Luftfeuchtigkeit und den Luftdruck für konfigurierbare Orte vom yahoo Wetterdienst bereit.
</code></pre>

<p>So the key for referencing the name of a binding is <code>binding.&lt;binding-id&gt;.name</code> and <code>binding.&lt;binding-id&gt;.description</code> for the description text.</p>

<h3 id="thing-types">Thing Types</h3>

<p>The following snippet shows an excerpt of the thing type definition XML file of the Yahoo Weather Binding and its language file that localizes labels and descriptions for the German language.</p>

<p>XML file (thing-types.xml):<br />
```xml</p>
<thing:thing-descriptions bindingid="yahooweather">
    <thing-type id="weather">
        <label>Weather Information</label>
        <description>Provides various weather data from the Yahoo service</description>
		<channels>
			<channel id="temperature" typeid="temperature" />
		</channels>
        <config-description>
            <parameter name="location" type="text">
                <label>Location</label>
                <description>Location for the weather information.
                    Syntax is WOEID, see https://en.wikipedia.org/wiki/WOEID.
                </description>
				<required>true</required>
            </parameter>
        </config-description>
    </thing-type>
    <channel-type id="temperature">
        <item-type>Number</item-type>
        <label>Temperature</label>
        <description>Current temperature in degrees celsius (metric) or fahrenheit (us)</description>
        <state pattern="%s Value">
              <options>
                  <option value="OPTION1">Option 1</option>
                  <option value="OPTION2">Option 2</option>
              </options>
            </state>
    </channel-type>
</thing:thing-descriptions>

<pre><code>
Language file (yahooweather_de.properties):
```ini
thing-type.yahooweather.weather.label = Wetterinformation
thing-type.yahooweather.weather.description = Stellt verschiedene Wetterdaten vom yahoo Wetterdienst bereit.
thing-type.config.yahooweather.weather.location.label = Ort
thing-type.config.yahooweather.weather.location.description = Ort der Wetterinformation.

thing-type.config.yahooweather.weather.group.group1.label = a label
thing-type.config.yahooweather.weather.group.group1.description = a description


channel-type.yahooweather.temperature.label = Temperatur
channel-type.yahooweather.temperature.description = Aktuelle Temperatur in Grad Celsius (metrisch) oder Grad Fahrenheit (us)
channel-type.yahooweather.temperature.pattern = %s Wert
channel-type.yahooweather.temperature.option.OPTION1 = Option Nummer 1
channel-type.yahooweather.temperature.option.OPTION2 = Option Nummer 2
</code></pre>

<p>So the key for referencing a label of a defined thing type is <code>thing-type.&lt;binding-id&gt;.&lt;thing-type-id&gt;.label</code>. A label of a channel can be referenced with <code>channel-type.&lt;binding-id&gt;.&lt;channel-type-id&gt;.label</code>. And finally the config description parameter key is <code>thing-type.config.&lt;binding-id&gt;.&lt;thing-type-id&gt;.&lt;parameter-name&gt;.label</code> and the group parameter is <code>thing-type.config.&lt;binding-id&gt;.group.&lt;thing-type-id&gt;.&lt;parameter-name&gt;.label</code>.</p>

<h3 id="using-custom-keys">Using custom Keys</h3>

<p>In addition to the default keys the developer can also specify custom keys inside the XML file. But with this approach the XML file cannot longer contain the English texts. So it is mandatory to define a language file for the English language. The syntax for custom keys is <code>@text/&lt;key&gt;</code>. The keys are unique across the whole bundle, so a constant can reference any key in all files inside the <code>ESH-INF/i18n</code> folder.</p>

<p>The following snippet shows a binding XML that uses custom keys:</p>

<p>XML file (binding.xml):<br />
```xml</p>
<binding:binding id="yahooweather">
    <name>@text/bindingName</name>
    <description>@text/bindingName</description>
    <author>Kai Kreuzer</author>
</binding:binding>
<pre><code>
Language file (yahooweather_en.properties):
```ini
bindingName = Yahoo Weather Binding
</code></pre>

<p>Language file (yahooweather_de.properties):<br />
<code>ini
bindingName = Yahoo Wetter Binding
</code></p>

<h2 id="i18n-text-provider-api">I18n Text Provider API</h2>

<p>To programmatically resolve texts for certain languages Eclipse SmartHome provides the OSGi service <code>I18nProvider</code>. The service parses every file inside the <code>ESH-INF/i18n</code> folder and caches all texts. A localized text can be retrieved via the method <code>getText(Bundle bundle, String key, String default, Locale locale)</code>, where bundle must be the reference to the bundle, in which the file is stored. The BundleContext from the Activator provides a method to get the bundle.</p>

<pre><code class="language-java">String text = i18nProvider.getText(bundleContext.getBundle(), "my.key", "DefaultValue", Locale.GERMAN);
</code></pre>

<h2 id="getting-thing-types-and-binding-definitions-in-different-languages">Getting Thing Types and Binding Definitions in different languages</h2>

<p>Thing types can be retrieved through the <code>ThingTypeRegistry</code> OSGi service. Every method takes a <code>Locale</code> as last argument. If no locale is specified the thing types are returned for the default locale which is determined by <code>Locale.getDefault()</code>, or the default text, which is specified in the XML file, if no language file for the default locale exists.</p>

<p>The following snippet shows how to retrieve the list of Thing Types for the German locale:</p>

<pre><code class="language-java">List&lt;ThingType&gt; thingTypes = thingTypeRegistry.getThingTypes(Locale.GERMAN);
</code></pre>

<p>If one binding supports the German language and another does not, it might occur that the languages of the returned thing types are mixed.</p>

<p>For Binding Info and ConfigDescription, the localized objects can be retrieved via the <code>BindingInfoRegistry</code> and the <code>ConfigDescriptionRegistry</code> in the same manner as described for Thing Types.</p>


            </div>
        </div>
    </section>
    
	    



	     
    <footer class="page-footer">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<p class="white-text">Eclipse SmartHome is an <a href="http://iot.eclipse.org">Eclipse IoT</a>
						project</p>
					<p>
						<a href="http://iot.eclipse.org"><img src="//www.eclipse.org/smarthome/img/iot-logo.png"></a>
					</p>
				</div>
				<div class="col l6 s12" data-twttr-id="twttr-sandbox-0">
					<p class="white-text">Connect with Eclipse SmartHome</p>
					<iframe
						src="https://ghbtns.com/github-btn.html?user=eclipse&repo=smarthome&type=star&count=true&size=large"
						frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
					<br /> <a class="twitter-follow-button" data-size="large"
						href="https://twitter.com/smarthome"> Follow @smarthome</a><br />
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container center">
				<a href="https://www.eclipse.org/legal/copyright.php">Copyright
					Agent</a> · <a href="https://www.eclipse.org/legal/privacy.php">Privacy</a>
				· <a href="https://www.eclipse.org/legal/termsofuse.php">Terms</a> ·
				<a href="https://www.eclipse.org/legal/">Legal</a>

			</div>
		</div>
	</footer>
    
	<script src="//www.eclipse.org/smarthome/js/jquery.min.js"></script>
	<script src="//www.eclipse.org/smarthome/js/jquery.scrollme.min.js"></script>
    <script src="//www.eclipse.org/smarthome/js/jquery.sticky.js"></script>
	<script src="//www.eclipse.org/smarthome/js/materialize.js"></script>
    <script src="//www.eclipse.org/smarthome/js/highlight.pack.js"></script>
	<script src="../../js/init.js"></script>
	<script>
        window.twttr = (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
            if (d.getElementById(id))
                return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function(f) {
                t._e.push(f);
            };

            return t;
        }(document, "script", "twitter-wjs"));
    </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55850963-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>